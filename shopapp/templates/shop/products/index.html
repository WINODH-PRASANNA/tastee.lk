{% extends 'shop/layouts/main.html' %}
{% load static %}

{% block title %}
{{catagory_name}}
{% endblock title %}

{% block content %}
<section class="bg-yellow-50 py-4 my-5">
   <div class="container mx-auto px-4">
      <div class="flex flex-wrap">
         <div class="w-full">
            <h6 class="mb-3 text-lg font-medium text-yellow-900">{{catagory_name}} Products</h6>
            <hr class="border-t border-yellow-300">
            {% include 'shop/inc/message.html' %}
         </div>
         {% for item in products %}
         <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4 p-2 mb-4">
            <div
               class="card h-full flex flex-col border border-yellow-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 bg-white shadow-md">
               <img src="{{ item.product_image.url }}" alt="{{ item.name }}"
                  class="w-110 h-55 object-contain bg-yellow-100">
               <div class="p-5 flex flex-col justify-between h-full">
                  <div class="mb-2">
                     <div class="text-base font-semibold text-yellow-900 mb-1 lg:text-xl">{{ item.name }}</div>
                     <div class="text-sm text-yellow-700 mb-2">{{ item.catagory.name }}{% if item.country %} | {{ item.country }}{% endif %}</div>
                     <div class="flex gap-2 mb-1 items-center">
                        <s class="text-sm text-red-600 font-semibold">Rs.{{ item.selling_price | stringformat:'d' }}</s>
                        <span class="text-md text-yellow-800 font-semibold">Rs.{{ item.original_price | stringformat:'d' }}</span>
                        <div class="flex items-center gap-1 text-yellow-500 text-sm mb-2">
                        </div>
                     </div>
                  </div>
                  <div
                     class="w-full text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 transition px-4 py-2 rounded-md">
                     <a href="{% url 'product_details' item.catagory.name item.name %}"
                        class="block w-full h-full text-white no-underline text-center">View Details</a>
                  </div>
               </div>
            </div>
         </div>
         {% endfor %}
      </div>
   </div>
</section>
{% endblock content %}