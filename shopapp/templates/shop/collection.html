{% extends 'shop/layouts/main.html' %}

{% block title %}
Collections
{% endblock title %}

{% block content %}
<section class="container mx-auto px-4 py-10 sm:py-7 text-center" style="margin-top: 70px;">
   <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-light text-yellow-900 mb-4">Popular Dishes</h2>
      <p class="text-lg text-yellow-800 mb-6">Browse our most loved meals â€” freshly prepared with the finest ingredients, bursting with flavor, and updated hourly so you're always in for something delicious.</p>
      {% if not request.user.is_authenticated %}
      <div class="flex justify-center space-x-4">
         <a href="{% url 'login' %}" class="bg-yellow-500 hover:bg-yellow-600 text-yellow-900 px-6 py-2 rounded-md transition-colors duration-300 shadow-md hover:shadow-lg">Already User</a>
         <a href="{% url 'register' %}" class="bg-yellow-500 hover:bg-yellow-600 text-yellow-900 px-6 py-2 rounded-md transition-colors duration-300 shadow-md hover:shadow-lg">New User</a>
      </div>
      {% endif %}
   </div>
</section>

<section class="bg-yellow-50 py-8 my-5">
   <div class="container mx-auto px-4">
      <div class="flex flex-wrap">
         <div class="w-full">
            <h4 class="text-2xl lg:text-3xl font-semibold mb-4 text-yellow-900">Explore Menu</h4>
            <hr class="border-yellow-500 mb-6">
         </div>

         {% for item in catagory %}
         <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 p-3 mb-6">
            <div
               class="card h-full flex flex-col border border-yellow-200 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 bg-white">
               <div class="flex justify-center items-center" style="min-height: 150px;">
                  <img src="{{ item.image.url }}" alt="{{ item.name }}" class="max-h object-contain">
               </div>
               <div class="p-4 flex flex-col flex-grow">
                  <div class="flex-grow">
                     <h5 class="text-lg font-semibold text-yellow-800 mb-2">{{ item.name }}</h5>
                     <p class="text-yellow-700 line-clamp-2">{{ item.description }}</p>
                  </div>
                  <div class="mt-4">
                     <a href="{% url 'collection' item.name %}"
                        class="block w-full px-4 py-2 bg-yellow-600 text-white text-center font-medium rounded-md hover:bg-yellow-700 transition-colors duration-300 shadow hover:shadow-md">
                        View Items
                     </a>
                  </div>
               </div>
            </div>
         </div>
         {% endfor %}
      </div>
   </div>
</section>
{% endblock content %}
